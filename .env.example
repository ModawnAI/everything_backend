# Everything Backend v3.2 Environment Configuration
# Copy this file to .env and fill in the actual values

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3000
API_VERSION=v1

# =============================================================================
# DATABASE CONFIGURATION (SUPABASE)
# =============================================================================
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET=your_32_character_or_longer_secret_key_here
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d
BCRYPT_SALT_ROUNDS=12

# =============================================================================
# REDIS CONFIGURATION (FOR RATE LIMITING & SESSIONS)
# =============================================================================
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# PAYMENT INTEGRATION (TOSS PAYMENTS)
# =============================================================================
TOSS_PAYMENTS_SECRET_KEY=test_sk_your_toss_secret_key_here
TOSS_PAYMENTS_CLIENT_KEY=test_ck_your_toss_client_key_here
TOSS_PAYMENTS_BASE_URL=https://api.tosspayments.com

# =============================================================================
# PUSH NOTIFICATIONS (FIREBASE FCM)
# =============================================================================
FCM_SERVER_KEY=your_fcm_server_key_here
FCM_PROJECT_ID=your_firebase_project_id
FIREBASE_ADMIN_SDK_PATH=./config/firebase-admin-sdk.json

# =============================================================================
# SOCIAL LOGIN CONFIGURATION (FOR SUPABASE AUTH)
# =============================================================================
# Kakao OAuth
KAKAO_CLIENT_ID=your_kakao_client_id
KAKAO_CLIENT_SECRET=your_kakao_client_secret

# Apple OAuth
APPLE_CLIENT_ID=your_apple_client_id
APPLE_CLIENT_SECRET=your_apple_client_secret

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Supabase Auth specific
SUPABASE_AUTH_REDIRECT_URL=http://localhost:3000/auth/callback
SUPABASE_AUTH_SITE_URL=http://localhost:3000

# =============================================================================
# FILE STORAGE & CDN
# =============================================================================
SUPABASE_STORAGE_BUCKET=shop-images
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/webp

# =============================================================================
# EMAIL & SMS CONFIGURATION
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password_or_app_password

SMS_API_KEY=your_sms_api_key_here
SMS_SENDER_NUMBER=01012345678

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
MAX_LOG_SIZE=20m
MAX_LOG_FILES=14d

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_LOGIN_MAX=5

# =============================================================================
# WEBHOOK & EXTERNAL API
# =============================================================================
WEBHOOK_SECRET=your_webhook_secret_here
EXTERNAL_API_TIMEOUT=30000

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
DEBUG_MODE=false
SWAGGER_ENABLED=true
MOCK_PAYMENTS=false
MOCK_SMS=false

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================
SENTRY_DSN=your_sentry_dsn_here
ANALYTICS_API_KEY=your_analytics_api_key_here

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
POINT_EXPIRY_DAYS=365
POINT_PENDING_DAYS=7
DEFAULT_COMMISSION_RATE=10.0
RESERVATION_TIMEOUT_MINUTES=30
MAX_CONCURRENT_BOOKINGS=1

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
CORS_ORIGIN=http://localhost:3000,http://localhost:3001
TRUSTED_PROXIES=127.0.0.1,::1
SESSION_SECRET=your_session_secret_here
ENCRYPTION_KEY=your_32_character_encryption_key_here
